"CO2_peat" = "CO2 (Peatland)",
"CO2_aband" = "CO2 (Abandoned Agr. Land)", "CO2_affor" = "CO2 (Afforestation)",
"CO2_bio" ="Savings from Biofuels")
#
# gas_colors <- c(
#   "N2O_crop" = "steelblue",
#   "N2O_live" = "lightblue",
#   "CH4_crop" = "#7B1FA2",
#   "CH4_live" = "#BA68C8",
#   "CO2_crop" = "#66BB6A",
#   "CO2_def" = "#4CAF50",
#   "CO2_other" = "#388E3C",
#   "CO2_peat" = "#2E7D32",
#   "CO2_aband" = "#1B5E20",
#   "CO2_affor" = "#004D40",
#   "CO2_bio"= "#003300"
# )
#
#
# gas_labels <- c(
#            "N2O_crop" = "N2O from Crop", "N2O_live" = "N2O from Livestock \n",
#            "CH4_crop" = "CH4 from Crop", "CH4_live" = "CH4 from Livestock \n",
#            "CO2_crop" = "CO2 from Crop",  "CO2_def" = "CO2 from Deforestation",
#            "CO2_other" ="CO2 from Other Land Use", "CO2_peat" = "CO2 from Peatland",
#            "CO2_aband" = "CO2 from Abandoned Agr. Land", "CO2_affor" = "CO2 from Afforestation",
#            "CO2_bio" ="CO2 savings from Biofuels"
#   )
df_long$Gas <- factor(df_long$Gas, levels = c(
"N2O_live", "N2O_crop",
"CH4_live","CH4_crop",
"CO2_crop",
"CO2_def",
"CO2_other", "CO2_peat",
"CO2_aband",
"CO2_affor",
"CO2_bio"
))
#Plot --------------------------------------------------------------------------
unique_pathways <- unique(df_long$pathway)
df_long$pathway <- factor(df_long$pathway, levels = c("CurrentTrends", "NationalCommitments", "GlobalSustainability"))
# df_long_land <- df_long %>%
#   filter((Gas %in% c("CO2_def", "CO2_other", "CO2_peat", "CO2_aband", "CO2_affor", "CO2_bio")))
#
# df_long_agri <- df_long %>%
#   filter((Gas %in% c("N2O_crop", "N2O_live","CH4_crop", "CH4_live","CO2_crop")))
figure_directory <- here("output", "figures", "AFOLU_emissions", paste0(gsub("-", "", Sys.Date())))
dir.create(figure_directory, recursive = TRUE, showWarnings = FALSE)
print(figure_directory)
#List countries
countries <- c(
"ARG",
"AUS",
"BRA"
, "CAN", "CHN", "COL","DEU",
"ETH"
,"FIN","GBR", "IDN", "IND",
"MEX"
,"NOR", "RUS", "RWA","SWE",  "USA",
"DNK",
"GRC","TUR", "NPL",
"R_ASP", "R_CSA", "R_NMC", "R_OEU", "R_NEU", "R_SSA"
)
p <- ggplot(country_data, aes(x = Year, y = Emission, fill = Gas)) +
geom_area()
p
## Land composition ###
# libraries ---------------------------------------------------------------
library(here)
#library(plyr)
library(dplyr)
library(tidyr)
library(readxl)
library(readr)
library(reshape2)
library(ggplot2)
library(stringr)
library(conflicted)
library(writexl)
library(openxlsx)
library(stats)
library(zoo)
library(cluster)
library(factoextra)
conflicted::conflict_prefer("rename", "dplyr")
conflicted::conflict_prefer("mutate", "dplyr")
conflicted::conflict_prefer("summarise", "dplyr")
conflicts_prefer(dplyr::filter)
here()
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland), ~ . / 1000))
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
#Plot Pathway ---------------------------------------------------------------
scenathon_long$Pathway <- factor(scenathon_long$Pathway, levels = c("CurrentTrends", "NationalCommitments", "GlobalSustainability"))
scenathon_long$LandType <- factor(scenathon_long$LandType, levels = c(
"calccropland", "calcpasture", "calcforest", "calcotherland", "calcurban", "newotherland", "calcnewforest"
))
# List countries
countries <- c(
"ARG", "AUS", "BRA", "CAN", "CHN", "COL", "DEU", "ETH",
"FIN", "GBR", "IDN", "IND", "MEX", "NOR", "RUS", "RWA",
"SWE", "USA", "DNK", "GRC", "TUR", "NPL",
"R_ASP", "R_CSA", "R_NMC", "R_OEU", "R_NEU", "R_SSA"
)
land_colors <- c(
"calccropland" = "#B8860B",
"calcpasture" = "#FF4500",
"calcforest" = "#006400",
"calcnewforest" = "#9ACD32",
"calcotherland" = "#8A2BE2",
"calcurban" = "grey",
"newotherland" = "#4682B4",
"totalland" = "#2E8B57"
)
#FFD700
land_labels <- c(
"calccropland" = "Cropland",
"calcpasture" = "Pasture",
"calcforest" = "Forest",
"calcnewforest" = "New Forest",
"calcotherland" = "Other Land",
"calcurban" = "Urban",
"newotherland" = "New Other Land",
"totalland" = "Total Land"
)
figure_directory <- here("output", "figures", "Land", paste0(gsub("-", "", Sys.Date())))
dir.create(figure_directory, recursive = TRUE, showWarnings = FALSE)
print(figure_directory)
# Create plot for each country
plot_list <- list()
for (country in countries) {
# Subset data for the specific country
country_data <- subset(scenathon_long, alpha3 == country)
# Create ggplot for the specific country
p_pathway <- ggplot(country_data, aes(x = as.factor(Year), y = Value, fill = LandType)) +
geom_bar(stat = "identity", position = "stack") +
geom_hline(yintercept = 0, linetype = "solid") +
geom_text(aes(label = ifelse(Percentage > 5, paste0(Percentage, "%"), "")),
position = position_stack(vjust = 0.5), size = 5, color = "ivory") +
labs(
x = "",
y = "Mha", fill = ""
) +
facet_grid(. ~ Pathway, scales = "free_y",
labeller = labeller(Pathway = c(
"CurrentTrends" = "Current Trend Pathway",
"NationalCommitments" = "National Commitments Pathway",
"GlobalSustainability" = "Global Sustainability Pathway"
))) +
scale_fill_manual(values = land_colors, labels = land_labels) +
theme_minimal() +
theme(
text = element_text(family = "sans", color = "black", size = 24, face = "bold"),
legend.title = element_text(family = "sans", color = "black", size = 18),
legend.text = element_text(family = "sans", size = 18),
axis.title.x = element_text(color = "black", size = 18),
axis.title.y = element_text(color = "black", size = 18),
legend.position = "bottom",
panel.spacing = unit(2, "cm")
)
# Save the plot as a TIFF file
filename <- paste0(gsub("-", "", Sys.Date()), "_", gsub(" ", "_", country), ".tiff")
tiff(
filename = here(figure_directory, filename),
units = "in", height = 10, width = 20, res = 300
)
print(p_pathway)
dev.off()
}
p_pathway
## Land composition ###
# libraries ---------------------------------------------------------------
library(here)
#library(plyr)
library(dplyr)
library(tidyr)
library(readxl)
library(readr)
library(reshape2)
library(ggplot2)
library(stringr)
library(conflicted)
library(writexl)
library(openxlsx)
library(stats)
library(zoo)
library(cluster)
library(factoextra)
conflicted::conflict_prefer("rename", "dplyr")
conflicted::conflict_prefer("mutate", "dplyr")
conflicted::conflict_prefer("summarise", "dplyr")
conflicts_prefer(dplyr::filter)
here()
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5")
View(scenathon)
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, protectedareasforest, protectedareasother, protectedareasothernat ) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland), ~ . / 1000))
View(scenathon)
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, protectedareasforest, protectedareasother, protectedareasothernat ) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland), ~ . / 1000))
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
View(scenathon_long)
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland, protectedareasforest, protectedareasother, protectedareasothernat), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
View(scenathon_long)
#Plot Pathway ---------------------------------------------------------------
scenathon_long$Pathway <- factor(scenathon_long$Pathway, levels = c("CurrentTrends", "NationalCommitments", "GlobalSustainability"))
scenathon_long$LandType <- factor(scenathon_long$LandType, levels = c(
"calccropland", "calcpasture", "calcforest", "calcotherland", "calcurban", "newotherland", "calcnewforest"
))
# List countries
countries <- c(
"ARG", "AUS", "BRA", "CAN", "CHN", "COL", "DEU", "ETH",
"FIN", "GBR", "IDN", "IND", "MEX", "NOR", "RUS", "RWA",
"SWE", "USA", "DNK", "GRC", "TUR", "NPL",
"R_ASP", "R_CSA", "R_NMC", "R_OEU", "R_NEU", "R_SSA"
)
land_colors <- c(
"calccropland" = "#B8860B",
"calcpasture" = "#FF4500",
"calcforest" = "#006400",
"calcnewforest" = "#9ACD32",
"calcotherland" = "#8A2BE2",
"calcurban" = "grey",
"newotherland" = "#4682B4",
"totalland" = "#2E8B57"
)
#FFD700
land_labels <- c(
"calccropland" = "Cropland",
"calcpasture" = "Pasture",
"calcforest" = "Forest",
"calcnewforest" = "New Forest",
"calcotherland" = "Other Land",
"calcurban" = "Urban",
"newotherland" = "New Other Land",
"totalland" = "Total Land"
)
figure_directory <- here("output", "figures", "Land", paste0(gsub("-", "", Sys.Date())))
dir.create(figure_directory, recursive = TRUE, showWarnings = FALSE)
print(figure_directory)
# Create plot for each country
plot_list <- list()
# Create plot for each country
plot_list <- list()
h
h
# Create plot for each country
plot_list <- list()
for (country in countries) {
# Subset data for the specific country
country_data <- subset(scenathon_long, alpha3 == country)
# Create ggplot for the specific country
p_pathway <- ggplot(country_data, aes(x = as.factor(Year), y = Value, fill = LandType)) +
geom_bar(stat = "identity", position = "stack") +
geom_hline(yintercept = 0, linetype = "solid") +
geom_text(aes(label = ifelse(Percentage > 5, paste0(Percentage, "%"), "")),
position = position_stack(vjust = 0.5), size = 5, color = "ivory") +
geom_line(aes(y = protectedareasforest, color = "Protected Areas Forest")) +
geom_line(aes(y = protectedareasother, color = "Protected Areas Other")) +
geom_line(aes(y = protectedareasothernat, color = "Protected Areas Other Nat")) +
labs(
x = "",
y = "Mha", fill = ""
) +
facet_grid(. ~ Pathway, scales = "free_y",
labeller = labeller(Pathway = c(
"CurrentTrends" = "Current Trend Pathway",
"NationalCommitments" = "National Commitments Pathway",
"GlobalSustainability" = "Global Sustainability Pathway"
))) +
scale_fill_manual(values = land_colors, labels = land_labels) +
scale_color_manual(values = c("Protected Areas Forest" = "red",
"Protected Areas Other" = "blue",
"Protected Areas Other Nat" = "green")) +
theme_minimal() +
theme(
text = element_text(family = "sans", color = "black", size = 24, face = "bold"),
legend.title = element_text(family = "sans", color = "black", size = 18),
legend.text = element_text(family = "sans", size = 18),
axis.title.x = element_text(color = "black", size = 18),
axis.title.y = element_text(color = "black", size = 18),
legend.position = "bottom",
panel.spacing = unit(2, "cm")
)
# Save the plot as a TIFF file
filename <- paste0(gsub("-", "", Sys.Date()), "_", gsub(" ", "_", country), ".tiff")
tiff(
filename = here(figure_directory, filename),
units = "in", height = 10, width = 20, res = 300
)
print(p_pathway)
dev.off()
}
View(scenathon_long)
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
#Plot Pathway ---------------------------------------------------------------
scenathon_long$Pathway <- factor(scenathon_long$Pathway, levels = c("CurrentTrends", "NationalCommitments", "GlobalSustainability"))
scenathon_long$LandType <- factor(scenathon_long$LandType, levels = c(
"calccropland", "calcpasture", "calcforest", "calcotherland", "calcurban", "newotherland", "calcnewforest"
))
# List countries
countries <- c(
"ARG", "AUS", "BRA", "CAN", "CHN", "COL", "DEU", "ETH",
"FIN", "GBR", "IDN", "IND", "MEX", "NOR", "RUS", "RWA",
"SWE", "USA", "DNK", "GRC", "TUR", "NPL",
"R_ASP", "R_CSA", "R_NMC", "R_OEU", "R_NEU", "R_SSA"
)
land_colors <- c(
"calccropland" = "#B8860B",
"calcpasture" = "#FF4500",
"calcforest" = "#006400",
"calcnewforest" = "#9ACD32",
"calcotherland" = "#8A2BE2",
"calcurban" = "grey",
"newotherland" = "#4682B4",
"totalland" = "#2E8B57"
)
#FFD700
land_labels <- c(
"calccropland" = "Cropland",
"calcpasture" = "Pasture",
"calcforest" = "Forest",
"calcnewforest" = "New Forest",
"calcotherland" = "Other Land",
"calcurban" = "Urban",
"newotherland" = "New Other Land",
"totalland" = "Total Land"
)
figure_directory <- here("output", "figures", "Land", paste0(gsub("-", "", Sys.Date())))
dir.create(figure_directory, recursive = TRUE, showWarnings = FALSE)
print(figure_directory)
# Create plot for each country
plot_list <- list()
for (country in countries) {
# Subset data for the specific country
country_data <- subset(scenathon_long, alpha3 == country)
# Create ggplot for the specific country
p_pathway <- ggplot(country_data, aes(x = as.factor(Year), y = Value, fill = LandType)) +
geom_bar(stat = "identity", position = "stack") +
geom_hline(yintercept = 0, linetype = "solid") +
geom_text(aes(label = ifelse(Percentage > 5, paste0(Percentage, "%"), "")),
position = position_stack(vjust = 0.5), size = 5, color = "ivory") +
geom_line(aes(y = protectedareasforest, color = "Protected Areas Forest")) +
geom_line(aes(y = protectedareasother, color = "Protected Areas Other")) +
geom_line(aes(y = protectedareasothernat, color = "Protected Areas Other Nat")) +
labs(
x = "",
y = "Mha", fill = ""
) +
facet_grid(. ~ Pathway, scales = "free_y",
labeller = labeller(Pathway = c(
"CurrentTrends" = "Current Trend Pathway",
"NationalCommitments" = "National Commitments Pathway",
"GlobalSustainability" = "Global Sustainability Pathway"
))) +
scale_fill_manual(values = land_colors, labels = land_labels) +
scale_color_manual(values = c("Protected Areas Forest" = "red",
"Protected Areas Other" = "blue",
"Protected Areas Other Nat" = "green")) +
theme_minimal() +
theme(
text = element_text(family = "sans", color = "black", size = 24, face = "bold"),
legend.title = element_text(family = "sans", color = "black", size = 18),
legend.text = element_text(family = "sans", size = 18),
axis.title.x = element_text(color = "black", size = 18),
axis.title.y = element_text(color = "black", size = 18),
legend.position = "bottom",
panel.spacing = unit(2, "cm")
)
# Save the plot as a TIFF file
filename <- paste0(gsub("-", "", Sys.Date()), "_", gsub(" ", "_", country), ".tiff")
tiff(
filename = here(figure_directory, filename),
units = "in", height = 10, width = 20, res = 300
)
print(p_pathway)
dev.off()
}
## Land composition ###
# libraries ---------------------------------------------------------------
library(here)
#library(plyr)
library(dplyr)
library(tidyr)
library(readxl)
library(readr)
library(reshape2)
library(ggplot2)
library(stringr)
library(conflicted)
library(writexl)
library(openxlsx)
library(stats)
library(zoo)
library(cluster)
library(factoextra)
conflicted::conflict_prefer("rename", "dplyr")
conflicted::conflict_prefer("mutate", "dplyr")
conflicted::conflict_prefer("summarise", "dplyr")
conflicts_prefer(dplyr::filter)
here()
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, protectedareasforest, protectedareasother, protectedareasothernat ) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland), ~ . / 1000))
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland, protectedareasforest, protectedareasother, protectedareasothernat), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
#Plot Pathway ---------------------------------------------------------------
scenathon_long$Pathway <- factor(scenathon_long$Pathway, levels = c("CurrentTrends", "NationalCommitments", "GlobalSustainability"))
scenathon_long$LandType <- factor(scenathon_long$LandType, levels = c(
"calccropland", "calcpasture", "calcforest", "calcotherland", "calcurban", "newotherland", "calcnewforest"
))
# List countries
countries <- c(
"ARG", "AUS", "BRA", "CAN", "CHN", "COL", "DEU", "ETH",
"FIN", "GBR", "IDN", "IND", "MEX", "NOR", "RUS", "RWA",
"SWE", "USA", "DNK", "GRC", "TUR", "NPL",
"R_ASP", "R_CSA", "R_NMC", "R_OEU", "R_NEU", "R_SSA"
)
land_colors <- c(
"calccropland" = "#B8860B",
"calcpasture" = "#FF4500",
"calcforest" = "#006400",
"calcnewforest" = "#9ACD32",
"calcotherland" = "#8A2BE2",
"calcurban" = "grey",
"newotherland" = "#4682B4",
"totalland" = "#2E8B57"
)
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, protectedareasforest, protectedareasother, protectedareasothernat ) %>%
mutate(PA =protectedareasforest + protectedareasother + protectedareasothernat) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, PA), ~ . / 1000))
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland, PA), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
View(scenathon_long)
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, protectedareasforest, protectedareasother, protectedareasothernat ) %>%
summirise(PA =protectedareasforest + protectedareasother + protectedareasothernat) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, PA), ~ . / 1000))
#Data -------------------------------------------------------------------
scenathon <- read_csv(here("data", "240523_FullDataBase.csv")) %>%
rename(alpha3 = country, Pathway = pathway, Year = year) %>%
mutate(Pathway = recode(Pathway, "NationalCommitment" = "NationalCommitments")) %>%
filter(iteration == "5") %>%
select(alpha3, Pathway, Year, calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, protectedareasforest, protectedareasother, protectedareasothernat ) %>%
mutate(PA =protectedareasforest + protectedareasother + protectedareasothernat) %>%
filter(!Year %in% c("2000", "2005", "2010", "2015", "2025", "2035", "2045")) %>%
mutate(across(c(calccropland, calcpasture, calcforest, calcnewforest, calcotherland, calcurban, newotherland, totalland, PA), ~ . / 1000)) %>%
select(-protectedareasforest,- protectedareasother, -protectedareasothernat)
scenathon_long <- scenathon %>%
pivot_longer(cols = c(calccropland,calcpasture,calcforest, calcnewforest, calcotherland,calcurban,newotherland, PA), names_to = "LandType", values_to = "Value") %>%
group_by(alpha3, Pathway, Year) %>%
mutate(Percentage = round(Value / sum(Value) * 100, 1)) %>%
ungroup()
